<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Map</title>
<style>

/*

*/
  html, body {
      height: 100%;
      margin: 0px;
      padding: 0px;
  }
  
  #map {
      height: 100%;
      background-color: #dff;
  }
  
</style>
  </head>
  <body>
    <h1>Google Map</h1>
    <form action="">
      <input id="btn" name="" type="button" value="components"/>
    </form>
    <div id="res"></div>
    <div id="map"></div>
<script>

  var map = null;
  function initMap() {

      var btn = document.getElementById('btn');
      var res = document.getElementById('res');

      if(navigator.geolocation) {

	  navigator.geolocation.getCurrentPosition((pos) => {

	      var lat = pos.coords.latitude;
	      var lng = pos.coords.longitude;
      
	      map = new google.maps.Map(document.getElementById('map'), {
		  center: {lat: lat, lng: lng},
		  zoom: 11
	      });
	      
	  }, (err) => {

	      console.log(err);

	  });

      }
      
  }
  
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCfmMlS0Aowc9kh-rSVifOhYUFBUfUHuOM&callback=initMap"></script>
</body>
