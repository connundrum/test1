<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8"/>
  <title>Document</title>
</head>
<body>
<div id="cont">
  <h1>watchPosition</h1>
  <div id="res"></div>
</div>
<script>

  //

  window.addEventListener('DOMContentLoaded', () => {

      var res = document.querySelector("#res");
      var str = "";
　　　 var cnt = 1;

      if(navigator.geolocation) {

	  navigator.geolocation.watchPosition((pos) => {

		str += "<b>" + cnt + "回</b>\n";
		for(var key in pos.coords) {
		  //console.log(key);
		  str += "<p><b>" + key + "</b>: " + pos.coords[key]  + "</p>\n";
	      }

	      str += "<p>" + new Date(pos.timestamp).toLocaleString() + "</p>\n"
	      str += "<hr/>\n";

	      res.innerHTML = str;
		  
		  cnt++;

	  }, (err) => {

	      console.log(err);

	  });

      }

  });


</script>
</body>
</html>

